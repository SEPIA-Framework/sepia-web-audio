let PorcupineBuilder=function(){return function(a,b,c){let d=null,e=null,f=null,g=null,h=null,i=null,j=null;c==null?"undefined"!=typeof PorcupineOptions&&null!==PorcupineOptions&&"undefined"!=typeof PorcupineOptions.callback&&(d=PorcupineOptions.callback):d=c;let k;PorcupineModule(a,b).then(function(a){k=a,f=a.cwrap("pv_porcupine_wasm_init","number",["number","number","number","number"]),h=a.cwrap("pv_porcupine_wasm_delete",["number"]),g=a.cwrap("pv_porcupine_wasm_process","number",["number","number"]),i=a.cwrap("pv_wasm_sample_rate","number",[])(),e=a.cwrap("pv_porcupine_wasm_frame_length","number",[])(),j=a.cwrap("pv_porcupine_wasm_version","string",[])(),d!==void 0&&null!==d&&d({isLoaded:l,create:m})});let l=function(){return null!==f},m=function(a,b){if(a.length!==b.length)throw new Error(`Got ${a.length} keyword models and ${b.length} sensitivity values. These numbers should be equal.`);if(b.constructor!==Float32Array)throw new Error("Sensitivities should be passed as a Float32Array.");let c=Int32Array.from(a.map(a=>a.byteLength)),d=k._malloc(c.byteLength),l=new Uint8Array(k.HEAPU8.buffer,d,c.byteLength);l.set(new Uint8Array(c.buffer));let m=Uint32Array.from(a.map(a=>{let b=k._malloc(a.byteLength),c=new Uint8Array(k.HEAPU8.buffer,b,a.byteLength);return c.set(a),b})),n=k._malloc(m.byteLength),o=new Uint8Array(k.HEAPU8.buffer,n,m.byteLength);o.set(new Uint8Array(m.buffer));let p=k._malloc(b.byteLength),q=new Uint8Array(k.HEAPU8.buffer,p,b.byteLength);q.set(new Uint8Array(b.buffer));let r=f(a.length,d,n,p);if(0===r)throw new Error("failed to initialize Porcupine.");let s=k._malloc(2*e),t=function(){h(r),k._free(s)},u=function(a){let b=new Uint8Array(k.HEAPU8.buffer,s,a.byteLength);b.set(new Uint8Array(a.buffer));let c=g(r,s);if(-2===c)throw new Error("Porcupine failed to process audio");return c};return{release:t,process:u,sampleRate:i,frameLength:e,version:j}};return{isLoaded:l,create:m}}}();